checkomatic:
  client:
    host: https://open-targets-eu-dev.appspot.com
    port: 443
  rules:
    targets:
      DMD:
        - |-
          print('target approved name', o.approved_name)
          output = True
        - o['id'] == 'ENSG00000198947'
    diseases:
      Orphanet_908:
        - o.name == 'Fragile X syndrome'
        - o.association_counts.total > 400
        - o.association_counts.direct > 400
      Orphanet_273:
        - o.name == 'Steinert myotonic dystrophy'
      Orphanet_93256:
        - o.name == 'Fragile X-associated tremor/ataxia syndrome'
    associations:
      # these (targets and diseases) use dataframes (t) instead addict.Dict object (o)
      # those are easier to manipulate and filter by
      targets:
        PRDX1:
          - |-
            print('num assciations', t['id'].count())
            print('num columns per association', len(t.columns.tolist()))
            output = True
      diseases:
        Orphanet_93256:
          - |-
            print('num assciations', t['id'].count())
            print('num columns per association', len(t.columns.tolist()))
            output = True
#    evidences:
#      # these (evidences) use dataframes (t) instead addict.Dict object (o)
#      # those are easier to manipulate and filter by
#      ENSG00000162434-EFO_0000685:
#    search:
#      "asdf sdf":
    stats:
      - o.data_version == "18.12"
      - o.targets.total > 28000 and o.targets.total < 50000
      - o.diseases.total > 10000 and o.diseases.total < 20000
      - len(o.associations.datatypes.keys()) == 7
      - ('sysbio' in o.associations.datatypes.affected_pathway.datasources)
